Appcelerator.Widget.Message={getName:function(){return"appcelerator message"},getDescription:function(){return"message widget for generating messages (either remote or local)"},getVersion:function(){return"__VERSION__"},getSpecVersion:function(){return 1},getAuthor:function(){return"Jeff Haynie"},getModuleURL:function(){return"http://www.appcelerator.org"},isWidget:function(){return true},getWidgetName:function(){return"app:message"},getActions:function(){return["execute","stop"]},getAttributes:function(){var A=Appcelerator.Types;return[{name:"on",optional:true,type:A.onExpr,description:"May be used to express when the message should be fired (executed)."},{name:"name",optional:false,type:A.messageSend,description:"The name of the message to be fired."},{name:"args",optional:true,type:A.json,description:"The argument payload of the message."},{name:"version",optional:true,description:"The version attached to the message."},{name:"interval",optional:true,type:A.time,description:"Indicates that an time interval that the message will continously be fired."}]},execute:function(E,A,D,C,B){Appcelerator.Widget.Message.sendMessage(A)},stop:function(F,A,D,C,B){var E=A.timer;if(E){clearInterval(E);A.timer=null}else{$D("Message "+A.name+" is not currently sending, cannot stop")}},compileWidget:function(A){Appcelerator.Widget.Message.sendMessage(A)},buildWidget:function(G,D){var F=D.name;var E=D.args;var B=D.version;var A=D.on;if(E){E=String.unescapeXML(E).replace(/\n/g,"").replace(/\t/g,"")}var C=D.interval;var H={args:E,name:F,scope:G.scope,interval:C,version:B};if(A){return{position:Appcelerator.Compiler.POSITION_REMOVE,parameters:H}}else{return{position:Appcelerator.Compiler.POSITION_REMOVE,compile:true,parameters:H}}},sendMessage:function(H){var D=H.name;var C=H.args;var A=H.version;var E=H.scope;var B=H.interval;var F=null;if(C&&C!="null"){F=Object.evalWithinScope(C,window)}if(B==null||!H.timer){$MQ(D,F,E,A)}if(B!=null){var G=Appcelerator.Util.DateTime.timeFormat(B);if(G>0&&!H.timer){H.timer=setInterval(function(){if(C&&C!="null"){F=Object.evalWithinScope(C,window)}$MQ(D,F,E,A)},G)}}}};Appcelerator.Widget.register("app:message",Appcelerator.Widget.Message);