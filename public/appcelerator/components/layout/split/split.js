Appcelerator.UI.registerUIComponent("layout","split",{path:null,setPath:function(A){this.path=A},getAttributes:function(){var A=Appcelerator.Types;return[{name:"mode",optional:true,description:"orientation of split layout (horizontal or vertical)",defaultValue:"horizontal",type:A.enumeration("vertical","horizontal")},{name:"initial",optional:true,description:"initial width of left/top pane",defaultValue:"200",type:A.integer},{name:"splitterWidth",optional:true,description:"width of splitter",defaultValue:"8",type:A.integer},{name:"gripper",optional:true,description:"show the gripper on the splitter or not",defaultValue:true,type:A.bool},{name:"ghosting",optional:true,description:"make the splitter ghost during dragging",defaultValue:false,type:A.bool},{name:"splitterBg",optional:true,description:"background color of the splitter",defaultValue:"#d1d1d1",type:A.string},{name:"splitterDragBorder",optional:true,description:"border of the splitter during drag",defaultValue:"1px dotted #111",type:A.string},{name:"splitterDragBg",optional:true,description:"background color of the splitter during drag",defaultValue:"#444",type:A.string},{name:"gripperImage",optional:true,description:"splitter gripper image",defaultValue:null,type:A.string}]},getVersion:function(){return"3.0.0"},getSpecVersion:function(){return 1},getActions:function(){return["open","close","toggle","resize"]},getConditions:function(){return["opened","closed","resized"]},max:function(B,A){return(B>A)?B:A},min:function(B,A){return(B<A)?B:A},resize:function(C,P,F,N,G,M,J,E){var B=$(C);var O=parseInt(F.size);var A=$(C+"_splitter");var L=parseInt(P.splitterWidth);var D=A.previous("div.splitpane");var K=A.next("div.splitpane");var H={duration:0.3};switch(P.mode){case"horizontal":var I=parseInt(Element.getStyle(A,"left")||0);I+=O;I=this.max(I,0);I=this.min(I,Element.getWidth(B)-L);new Effect.Parallel([new Effect.Morph(A,{style:"left:"+I+"px"}),new Effect.Morph(D,{style:"width:"+I+"px"}),new Effect.Morph(K,{style:"left:"+(I+L)+"px"})],H);break;case"vertical":var I=parseInt(Element.getStyle(A,"top")||0);I+=O;I=this.max(I,0);I=this.min(I,Element.getHeight(B)-L);new Effect.Parallel([new Effect.Morph(A,{style:"top:"+I+"px"}),new Effect.Morph(D,{style:"height:"+I+"px"}),new Effect.Morph(K,{style:"top:"+(I+L)+"px"})],H);break}Appcelerator.Compiler.fireCustomCondition(C,"resized",{id:C})},toggle:function(D,A){var B=$(D+"_splitter");switch(A.mode){case"horizontal":var C=parseInt(Element.getStyle(B,"left")||0);if(C>0){this.close(D,A)}else{this.open(D,A)}break;case"vertical":var C=parseInt(Element.getStyle(B,"top")||0);if(C>0){this.close(D,A)}else{this.open(D,A)}break}},close:function(G,C){var E=$(G+"_splitter");var B=parseInt(C.splitterWidth);var D=E.next("div.splitpane");var A={duration:0.3};switch(C.mode){case"horizontal":var F=parseInt(Element.getStyle(E,"left")||0);E.rememberedLeftPosition=F;new Effect.Parallel([new Effect.Morph(E,{style:"left:0"}),new Effect.Morph(D,{style:"left:"+B+"px"})],A);break;case"vertical":var F=parseInt(Element.getStyle(E,"top")||0);rememberedTopPosition=F;new Effect.Parallel([new Effect.Morph(E,{style:"top:0"}),new Effect.Morph(D,{style:"top:"+B+"px"})],A);break}Appcelerator.Compiler.fireCustomCondition(G,"closed",{id:G})},open:function(H,D){var G=$(H+"_splitter");var C=parseInt(D.splitterWidth);var F=G.next("div.splitpane");var B={duration:0.3};switch(D.mode){case"horizontal":var E=G.rememberedLeftPosition||parseInt(D.initial);new Effect.Parallel([new Effect.Morph(G,{style:"left:"+E+"px"}),new Effect.Morph(F,{style:"left:"+(E+C)+"px"})],B);break;case"vertical":var A=G.rememberedTopPosition||parseInt(D.initial);new Effect.Parallel([new Effect.Morph(G,{style:"top:"+A+"px"}),new Effect.Morph(F,{style:"top:"+(A+C)+"px"})],B);break}Appcelerator.Compiler.fireCustomCondition(H,"opened",{id:H})},build:function(C,P){var E=C.down("div");var L=E.next("div");var M=Boolean(P.gripper);function H(){if(C.parentNode==document.body){return(window.innerHeight||document.body.clientHeight)+"px"}return Element.getHeight(C.parentNode)+"px"}C.style.position="relative";C.style.margin="0";C.style.padding="0";C.style.overflow="hidden";C.style.height=H();Event.observe(window,"resize",function(){C.style.height=H();if(M){switch(P.mode){case"horizontal":A.style.top=(Element.getHeight(B)*0.45)+"px";break;case"vertical":var Q=Element.getWidth(A);var R=(N-10)*0.5;A.style.left=(Element.getWidth(G)*0.5)-(Q*0.5)+"px";A.style.top=(Element.getHeight(A)*0.5)+R+"px";break}}});var N=parseInt(P.splitterWidth);var B=document.createElement("div");B.id=C.id+"_splitter";var I=parseInt(P.initial);Element.setStyle(B,{width:N+"px",backgroundColor:P.splitterBg,top:"0",position:"absolute",left:I+"px",bottom:"0",cursor:"col-resize",height:"100%"});var K=null;if(M){K=P.gripperImage;if(!K){switch(P.mode){case"horizontal":K=Appcelerator.URI.absolutizeURI("split/images/h_grabber.gif",this.path);break;case"vertical":K=Appcelerator.URI.absolutizeURI("split/images/v_grabber.gif",this.path);break}}else{K=Appcelerator.URI.absolutizeURI(K,Appcelerator.ImagePath)}}B.innerHTML="<div>"+(M?'<img src="'+K+'"/>':"")+"</div>";new Insertion.After(E,B);var G=B.down("div");G.style.margin="0";G.style.padding="0";G.style.height=N+"px";if(M){var A=B.down("img");A.style.position="relative";if(P.mode=="horizontal"){A.style.top=(Element.getHeight(B)*0.45)+"px";A.style.left=(N*0.3)+"px"}else{A.style.position="absolute";A.style.top="2px";A.onload=function(){var Q=Element.getWidth(A);var R=(N-10)*0.5;A.style.left=(Element.getWidth(G)*0.5)-(Q*0.5)+"px";A.style.top=(Element.getHeight(A)*0.5)+R+"px"};G.style.textAlign="center";G.style.position="relative";G.style.margin="auto";G.style.width=Element.getWidth(C)+"px"}}Event.observe(B,"dblclick",function(){this.toggle(C.id,P)}.bind(this));E.style.position="absolute";E.style.overflow="auto";L.style.position="absolute";L.style.overflow="auto";L.style.zIndex=parseInt(Element.getStyle(E,"z-index")||0)+1;var J=Element.getStyle(B,"background-color");var D={onStart:function(R,Q,S){Q.element.style.border=P.splitterDragBorder;Q.element.style.backgroundColor=P.splitterDragBg},onDrag:function(R,Q,S){this.drop(Q.element)},onEnd:function(R,Q,S){this.drop(Q.element);Q.element.style.border="";Q.element.style.backgroundColor=J;Appcelerator.Compiler.fireCustomCondition(C.id,"resized",{id:C.id})},drop:function(Q){F()},setHorizontal:function(S,R,Q,T){Element.setStyle(L,{width:R+"px",left:Q+"px"});Element.setStyle(E,{width:S+"px"});Element.setStyle(B,{left:T+"px"});Element.setStyle(G,{left:0})},setVertical:function(R,Q,S,T){Element.setStyle(L,{height:Q+"px",top:S+"px"});Element.setStyle(E,{height:R+"px"});Element.setStyle(B,{top:T+"px"});Element.setStyle(G,{top:0})}};function F(){var Q=Element.getDimensions(C);var U=Position.positionedOffset(B);if(P.mode=="horizontal"){var V=U[0]+N;var X=Element.getStyle(L,"padding")||0+Element.getStyle(L,"padding-right")||0+Element.getStyle(L,"padding-left")||0;var S=U[0];var W=Q.width-(S+N+X);D.setHorizontal(S,W,V,V-N)}else{var Y=U[1];var X=Element.getStyle(L,"padding")||0+Element.getStyle(L,"padding-top")||0+Element.getStyle(L,"padding-bottom")||0;var R=U[1]+N;var T=Q.height-(Y+N+X);D.setVertical(Y,T,R,U[1])}}if(P.mode=="horizontal"){E.style.top="0";E.style.bottom="0";E.style.left="0";E.style.width=I+"px";L.style.top="0";L.style.bottom="0";L.style.left=I+N+"px";L.style.right="0"}else{E.style.top="0";E.style.height=I+"px";E.style.left="0";E.style.right="0";L.style.top=I+N+"px";L.style.bottom="0";L.style.left="0";L.style.right="0";Element.setStyle(B,{height:N+"px",backgroundColor:P.splitterBg,position:"absolute",top:I+"px",bottom:"0",left:"0",right:"0",cursor:"row-resize",width:"100%"})}Element.addClassName(E,"splitpane");Element.addClassName(L,"splitpane");var O=new Draggable(B,{ghosting:P.ghosting,constraint:P.mode});Droppables.add(E);Droppables.add(L);Draggables.addObserver(D);F()}});